"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PackDirectoryExistenceError = exports.CheckThrowSomethingMissing = exports.UnzipError = exports.TemplateZipFallbackError = exports.PreconditionError = void 0;
const teamsfx_api_1 = require("@microsoft/teamsfx-api");
const messages_1 = require("../resources/messages");
const result_1 = require("../result");
class PreconditionError extends teamsfx_api_1.UserError {
    constructor(messages, suggestions) {
        super(result_1.FxBotPluginResultFactory.source, new.target.name, `${messages[0]}. Suggestions: ${suggestions.join(" ")}`, `${messages[1]}. Suggestions: ${suggestions.join(" ")}`);
    }
}
exports.PreconditionError = PreconditionError;
class TemplateZipFallbackError extends teamsfx_api_1.UserError {
    constructor() {
        super(result_1.FxBotPluginResultFactory.source, new.target.name, `Failed to download zip package and open local zip package. Suggestions: ${[
            messages_1.Messages.CheckOutputLogAndTryToFix,
            messages_1.Messages.RetryTheCurrentStep,
        ].join(" ")}`);
    }
}
exports.TemplateZipFallbackError = TemplateZipFallbackError;
class UnzipError extends teamsfx_api_1.UserError {
    constructor(path) {
        super(result_1.FxBotPluginResultFactory.source, new.target.name, `Failed to unzip templates and write to disk. Suggestions: ${[
            messages_1.Messages.CheckOutputLogAndTryToFix,
            messages_1.Messages.ReopenWorkingDir(path),
            messages_1.Messages.RetryTheCurrentStep,
        ].join(" ")}`);
    }
}
exports.UnzipError = UnzipError;
function CheckThrowSomethingMissing(name, value) {
    if (!value) {
        throw new PreconditionError(messages_1.Messages.SomethingIsMissing(name), [messages_1.Messages.RetryTheCurrentStep]);
    }
}
exports.CheckThrowSomethingMissing = CheckThrowSomethingMissing;
class PackDirectoryExistenceError extends teamsfx_api_1.UserError {
    constructor() {
        const msg0 = `${messages_1.Messages.SomethingIsNotExisting("pack directory")[0]} Suggestions: ${[
            messages_1.Messages.RecreateTheProject[0],
        ].join(" ")}`;
        const msg1 = `${messages_1.Messages.SomethingIsNotExisting("pack directory")[1]} Suggestions: ${[
            messages_1.Messages.RecreateTheProject[1],
        ].join(" ")}`;
        super(result_1.FxBotPluginResultFactory.source, new.target.name, msg0, msg1);
    }
}
exports.PackDirectoryExistenceError = PackDirectoryExistenceError;
//# sourceMappingURL=error.js.map